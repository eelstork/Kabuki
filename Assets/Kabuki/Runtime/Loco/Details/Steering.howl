âŠ UnityEngine; âŠ Active.Core; âŠÌ¥ Active.Status;

âŠ“ Active.Loco{
â€’ â—‹ Steering : LocoTask{

    ã‚· direction;
    ã…… speed;

    â€’ ã…‡ Update(ã‚· u, ã…… speed){
        ã…‡ changed = false;
        â¤´ (direction â‰  u)   { direction = u;   changed = âœ“; }
        â¤´ (â¦¿.speed â‰  speed) { â¦¿.speed = speed; changed = âœ“; }
        â® changed;
    }

    âºâ€’ â‘‚ Step(PhysicalLocomotion o){
        //
        o.rotor.Update(direction, o.ã¿, o.body);
        // Maybe no clear LOS here since course corrections take time.
        â¤´ (Avoidance.HasClearLOS(o.ã¿Ë™, o.body.ğ“‹, 1f)){
            o.motor.Update(direction, ğ‡, o.ã¿, o.body);
            o.Play("Walk");
            â® â˜¡[log âˆ§ "Move"];
        }â¤µ {
            // So, if not, stop moving.
            o.motor.Stop(o.ã¿, o.body);
            o.Play("Idle");
            â® â˜¡[log âˆ§ "Stall"];
        }
    }

}}
