âŠ System.Collections; âŠ ArgEx = System.ArgumentException;
âŠ NUnit.Framework; âŠ UnityEngine; âŠ UnityEngine.TestTools;
âŠ Active.Core; âŠÌ¥ Active.Core.status; âŠ Active.Util;

â€’ â—‹ LegacyAnimationDriverTest : Kabuki.Test.PlayTest{

    LegacyAnimationDriver2 x;

    âœ SetupDriver(){
        âˆ™ go = Create("Raptor"); go.ã¿.ğšœ = ã‚·.one * 20;
        x = new LegacyAnimationDriver2( go.â§¼Animationâ§½ );
    }

    // Play ----------------------------------------------------------

    ØŸ Play() â†’ o( x.Play("Idle").running );

    âš PlayFully_wrapModeOnce()
    { âŸ¾ Complete( âš x.Play("Strike"), timeout: 1f); }

    âš Loop_force(){ âŸ¾ Run( âš x.Loop("Strike"), duration: 2f); }

    âš Loop_normal(){ âŸ¾ Run( âš x.Loop("Walk"), duration: 2f); }

    âš Play_loop() { âŸ¾ Run( âš x.Play("Walk"), duration: 1f); }

    âš Play_clampForever()
    { âŸ¾ Run( âš x.Play("Clamping"), duration: 1f); }

    ØŸ Play_emptyString_throws() â†’ à² á´—à² <ArgEx>( () â†’ x.Play("") );

    ØŸ Play_nullString_throws() â†’ à² á´—à² <ArgEx>( () â†’ x.Play(null) );

    ØŸ Play_animationNotFound_logsError(){
        x.Play("foo");
        LogAssert.Expect(LogType.Error,
            "The animation state foo could not be played because it "
          + "couldn't be found!\nPlease attach an animation clip with"
          + " the name 'foo' or call this function only for existing "
          + "animations.");
    }

}
